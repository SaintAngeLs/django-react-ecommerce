{"ast":null,"code":"var _jsxFileName = \"/home/kaliuser/Documents/portfolio/commercial_apps/django-ecommerce/ecommerce-django-react/frontend/src/screens/CartScreen.js\";\nimport React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Row, Col, ListGroup, Image, Button, Card } from 'react-bootstrap';\nimport Message from '../components/Message';\nimport { addToCart, deleteCart } from '../actions/cartActions';\nfunction CartScreen({\n  match,\n  location,\n  history\n}) {\n  const productId = match.params.id;\n  const quantity = location.search ? Number(location.search.split('=')[1]) : '1';\n  const dispatch = useDispatch();\n  const cart = useSelector(state => state.cart);\n  const {\n    cartItems\n  } = cart;\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, quantity));\n    }\n  }, [dispatch, productId, quantity]);\n  const deleteFromCartHandler = id => {\n    dispatch(deleteCart(id));\n  };\n  const checkoutHandler = () => {\n    history.push('/login?redirect=shipping');\n  };\n  return /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, \"Shopping Cart\"), cartItems.length === 0 ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }, \"Cart is empty \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"text-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 39\n    }\n  }, \"Go Back\")) : /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, cartItems.map(item => /*#__PURE__*/React.createElement(ListGroup.Item, {\n    key: item.product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/product/${item.product}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: item.image,\n    alt: item.name,\n    fluid: true,\n    rounded: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/product/${item.product}`,\n    className: \"text-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 41\n    }\n  }, item.name)), /*#__PURE__*/React.createElement(Col, {\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 37\n    }\n  }, \"$\", item.price), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 37\n    }\n  }, \"QTY: \", item.quantity), /*#__PURE__*/React.createElement(Col, {\n    md: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    variant: \"light\",\n    onClick: () => deleteFromCartHandler(item.product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-trash\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 45\n    }\n  })))))))), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 29\n    }\n  }, \"Subtotal (\", cartItems.reduce((acc, item) => acc + item.quantity, 0), \") items\"), \"$\", cartItems.reduce((acc, item) => acc + item.quantity * item.price, 0)), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-grid gap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    className: \"btn-block\",\n    disabled: cartItems.length === 0,\n    onClick: checkoutHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 33\n    }\n  }, \"Proceed To Checkout\")))))));\n}\nexport default CartScreen;","map":{"version":3,"names":["React","useEffect","Link","useDispatch","useSelector","Row","Col","ListGroup","Image","Button","Card","Message","addToCart","deleteCart","CartScreen","match","location","history","productId","params","id","quantity","search","Number","split","dispatch","cart","state","cartItems","deleteFromCartHandler","checkoutHandler","push","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","md","length","variant","to","className","map","item","Item","key","product","src","image","alt","name","fluid","rounded","price","type","onClick","reduce","acc","disabled"],"sources":["/home/kaliuser/Documents/portfolio/commercial_apps/django-ecommerce/ecommerce-django-react/frontend/src/screens/CartScreen.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Row, Col, ListGroup, Image,  Button, Card } from 'react-bootstrap';\n\nimport Message  from '../components/Message';\nimport { addToCart, deleteCart } from '../actions/cartActions';\n\n\nfunction CartScreen({ match, location, history }) {\n    const productId = match.params.id\n    const quantity = location.search ? Number(location.search.split('=')[1]) : '1'\n    \n    const dispatch = useDispatch()\n\n    const cart = useSelector(state => state.cart)\n    const { cartItems } = cart\n\n    useEffect(() => {\n        if(productId){\n            dispatch(addToCart(productId, quantity ))\n        }\n    }, [dispatch, productId, quantity] )\n\n    const deleteFromCartHandler = (id) => {\n        dispatch(deleteCart(id))\n    }\n\n    const checkoutHandler = () => {\n        history.push('/login?redirect=shipping')\n    }\n\n    return (\n        <Row>\n            <Col md={8}>\n                <h1>Shopping Cart</h1>\n                {cartItems.length === 0 ? (\n                    <Message variant='info'>\n                        Cart is empty <Link to='/' className='text-link'>Go Back</Link>\n                    </Message>\n                ) :(\n                    <ListGroup variant = 'flush'>\n                        {cartItems.map(item => (\n                            <ListGroup.Item key={item.product}>\n                                <Row>\n                                    <Col md={2}>\n                                        <Link to={`/product/${item.product}`}>\n                                            <Image src={item.image} alt={item.name} fluid rounded />\n                                        </Link>\n                                    </Col>\n\n                                    <Col md={3}>\n                                        <Link to={`/product/${item.product}`} className='text-link'>{item.name}</Link>\n                                    </Col>\n\n                                    <Col md={2}>\n                                        ${item.price}\n                                    </Col>\n                                    \n                                    <Col md={3}>\n                                        QTY: {item.quantity}\n                                    </Col>\n\n                                    <Col md={1}>\n                                        <Button type='button' variant='light' onClick={() => deleteFromCartHandler(item.product)}>\n                                            <i className='fas fa-trash'></i>\n                                        </Button>\n                                    </Col>\n                                </Row>\n                            </ListGroup.Item>\n                        ))}\n                    </ListGroup>\n                )}\n            </Col>\n\n            <Col md={4}>\n                <Card>\n                    <ListGroup variant='flush'>\n                        <ListGroup.Item>\n                            <h2>Subtotal ({cartItems.reduce((acc, item ) => acc + item.quantity, 0)}) items</h2>\n                            ${cartItems.reduce((acc, item) => acc + item.quantity * item.price, 0)}\n                        </ListGroup.Item>\n\n                        <ListGroup.Item>\n                            <div className=\"d-grid gap\">\n                                <Button \n                                    type='button'\n                                    className='btn-block'\n                                    disabled={cartItems.length === 0}\n                                    onClick={checkoutHandler}    \n                                >\n                                    Proceed To Checkout\n                                </Button>\n                            </div>\n                        </ListGroup.Item>\n\n                    </ListGroup>\n                </Card>\n            </Col>\n        </Row>\n    )\n}\n\nexport default CartScreen\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}